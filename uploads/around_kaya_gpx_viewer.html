<!DOCTYPE html>
<html>
<head>
    <title>茅ヶ岳１周</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <style>
        #map, #graph {
            width: 100%;
            height: 100vh;
        }
        #slider-container {
            display: flex;
            justify-content: center;
            margin-top: 0px;
        }
        #slider {
            width: 100%;
        }
        #distances, #elevations {
            text-align: center;
            margin-top: 10px;
        }        
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
</head>
<body>
    <div id="title"><a>茅ヶ岳１周</a></div>
    <div id="map"></div>
    <div id="graph" style="touch-action: manipulation;"></div>
    <div id="slider-container">
        <input type="range" id="slider" min="0" max="100" value="0" />
    </div>
    <div id="distances">
        <p>水平距離: <span id="horizontal-distance"></span> km</p>
        <p>沿面距離: <span id="surface-distance"></span> km</p>
    </div>
    <div id="elevations">
        <p>累積標高上り: <span id="total-ascent"></span> m</p>
        <p>累積標高下り: <span id="total-descent"></span> m</p>
        <p>最高標高: <span id="max-elevation"></span> m</p>
        <p>最低標高: <span id="min-elevation"></span> m</p>
    </div>
    <div>
        <a href="around_kaya.gpx" download>GPXファイルをダウンロード</a>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
　　<script>
        $(document).ready(function() {
            // 地図の初期化
            var map = L.map('map').setView([35.770463333554424, 138.506795167923], 14);
            L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
                maxZoom: 18,
                attribution: '&copy; <a href="https://maps.gsi.go.jp/development/ichiran.html">国土地理院</a>'
            }).addTo(map);

            // GPXトラックの表示
            var latlngs = [
                
                    [35.770463333554424, 138.506795167923, 944.8,],

                    [35.770498153566415, 138.50608706474307, 946.9,],

                    [35.7705155635667, 138.5055184364319, 948.4,],

                    [35.770802828020955, 138.50496053695682, 952.3,],

                    [35.77103786180268, 138.50490689277652, 954.7,],

                    [35.77134253418958, 138.50485324859622, 958.4,],

                    [35.77177777843182, 138.5048854351044, 964.4,],

                    [35.7722043154781, 138.5048854351044, 970.4,],

                    [35.772465459479356, 138.50492835044864, 973.5,],

                    [35.77282235489421, 138.50490689277652, 979.4,],

                    [35.773135725157324, 138.50505709648135, 982.4,],

                    [35.77347520821549, 138.50514292716983, 986.5,],

                    [35.773832099098556, 138.50531458854678, 991.5,],

                    [35.77419305059591, 138.50553989410403, 995.9,],

                    [35.77435437555247, 138.50577592849734, 999.5,],

                    [35.77459810339037, 138.5060226917267, 1001.9,],

                    [35.77489405761776, 138.50619435310367, 1004.5,],

                    [35.775085556825, 138.50624799728396, 1009.4,],

                    [35.77517260176673, 138.50630164146426, 1010.5,],

                    [35.775381509238144, 138.5063982009888, 1013.8,],

                    [35.77553818948147, 138.50647330284121, 1016.6,],

                    [35.77568616498339, 138.50651621818545, 1018.7,],

                    [35.77581673137403, 138.50656986236575, 1019.7,],

                    [35.776073221241326, 138.50665569305423, 1022,],

                    [35.77610397667875, 138.50683808326724, 1022.7,],

                    [35.77611268106575, 138.50705265998843, 1024.9,],

                    [35.77611268106575, 138.50721359252933, 1026,],

                    [35.776173611747886, 138.50732088088992, 1026.3,],

                    [35.77626935986833, 138.5074067115784, 1027.2,],

                    [35.77639992530132, 138.5075676441193, 1028.9,],

                    [35.77655660353789, 138.50768566131595, 1031.3,],

                    [35.776687168499215, 138.5078036785126, 1032.4,],

                    [35.77677421168765, 138.50777149200442, 1033.5,],

                    [35.77681773324612, 138.50783586502078, 1033.9,],

                    [35.77676550737309, 138.50776076316836, 1033.2,],

                    [35.77695700207318, 138.50784659385684, 1035.4,],

                    [35.77720072193353, 138.50784659385684, 1038.5,],

                    [35.77740962407638, 138.50781440734866, 1041.6,],

                    [35.777618525670334, 138.5079646110535, 1045.2,],

                    [35.77778390570963, 138.50802898406985, 1048.3,],

                    [35.77795334742887, 138.5082006454468, 1053.3,],

                    [35.77814077725394, 138.50831866264346, 1056.4,],

                    [35.77826263546316, 138.50843667984012, 1058.5,],

                    [35.778367085208124, 138.5084688663483, 1059.8,],

                    [35.77854522980519, 138.5086297988892, 1063.8,],

                    [35.77875877052969, 138.5086297988892, 1066.9,],

                    [35.77896766857883, 138.50866198539737, 1069.8,],

                    [35.77908952552068, 138.5086834430695, 1071.4,],

                    [35.77933323884408, 138.50871562957767, 1074.3,],

                    [35.779637879447726, 138.50853323936465, 1076.6,],

                    [35.7798728871158, 138.508415222168, 1077.7,],

                    [35.78002085455041, 138.50826501846316, 1079,],

                    [35.7799947426702, 138.5080182552338, 1083.5,],

                    [35.77988159109016, 138.50771784782413, 1084.3,],

                    [35.779925110947694, 138.50752472877505, 1080.8,],

                    [35.780134005932226, 138.50748181343081, 1082.4,],

                    [35.78044734737988, 138.50748181343081, 1076.3,],

                    [35.78063012932065, 138.5074067115784, 1075.3,],

                    [35.780751983714374, 138.50720286369327, 1073.9,],

                    [35.780995691941506, 138.50705265998843, 1071,],

                    [35.781265510892936, 138.50691318511966, 1066.5,],

                    [35.7814569947545, 138.506795167923, 1064,],

                    [35.781631070592056, 138.50664496421817, 1061.3,],

                    [35.78175292345153, 138.50647330284121, 1060,],

                    [35.781831257334, 138.50626945495608, 1060.3,],

                    [35.78187477612424, 138.50604414939883, 1057.4,],

                    [35.78190088738696, 138.505893945694, 1057,],

                    [35.78190088738696, 138.50563645362857, 1055,],

                    [35.78190088738696, 138.50537896156314, 1052.8,],

                    [35.78187477612424, 138.5051536560059, 1050.3,],

                    [35.78187477612424, 138.50491762161258, 1047.6,],

                    [35.78187477612424, 138.50468158721927, 1045.2,],

                    [35.781857368611, 138.50442409515384, 1043.2,],

                    [35.781839961093965, 138.5042202472687, 1041.5,],

                    [35.781831257334, 138.50396275520328, 1039.4,],

                    [35.781839961093965, 138.50367307662967, 1037.4,],

                    [35.78181384981124, 138.50338339805606, 1034.8,],

                    [35.781787738519945, 138.50311517715457, 1038.7,],

                    [35.781657181934804, 138.50291132926944, 1037,],

                    [35.781430883345976, 138.5026860237122, 1031.8,],

                    [35.78115236112156, 138.50238561630252, 1028,],

                    [35.78089124564994, 138.5021281242371, 1023.2,],

                    [35.78079550309546, 138.50201010704043, 1020.3,],

                    [35.78081291084121, 138.50181698799136, 1018.8,],

                    [35.780969580381466, 138.50154876708987, 1012.3,],

                    [35.78120458411298, 138.5013556480408, 1011.8,],

                    [35.78150051374962, 138.50123763084414, 1011.4,],

                    [35.781657181934804, 138.50110888481143, 1012.3,],

                    [35.78173551591162, 138.5009586811066, 1012.4,],

                    [35.781796442284644, 138.500851392746, 1012,],

                    [35.78186607236812, 138.50062608718875, 1010.9,],

                    [35.78190088738696, 138.5004544258118, 1009.3,],

                    [35.78202273983286, 138.50021839141849, 1007,],

                    [35.78207496225249, 138.49997162818912, 1004.2,],

                    [35.782127184637815, 138.49982142448428, 1003,],

                    [35.782127184637815, 138.4996068477631, 1005.2,],

                    [35.781839961093965, 138.4995210170746, 1000.1,],

                    [35.78160495924073, 138.49945664405826, 996.8,],

                    [35.781378660503236, 138.49938154220584, 992.2,],

                    [35.781265510892936, 138.4991240501404, 989.4,],

                    [35.781265510892936, 138.4987056255341, 987.2,],

                    [35.781221991769144, 138.49837303161624, 984.4,],

                    [35.78121328794155, 138.49812626838687, 982.5,],

                    [35.78119588028345, 138.49784731864932, 980.2,],

                    [35.78119588028345, 138.4975576400757, 978.3,],

                    [35.78116976878918, 138.49723577499392, 976.7,],

                    [35.78116976878918, 138.49694609642032, 975.2,],

                    [35.781143657286336, 138.4965491294861, 972.5,],

                    [35.78110884193585, 138.49627017974856, 972.5,],

                    [35.78091735723568, 138.4961521625519, 969.5,],

                    [35.780621425428244, 138.495808839798, 965.8,],

                    [35.78045605129134, 138.49552989006045, 963.4,],

                    [35.7801165980378, 138.4953045845032, 957.8,],

                    [35.7798554791642, 138.49497199058536, 955.5,],

                    [35.77964658344781, 138.49468231201175, 952.7,],

                    [35.77949861531661, 138.49439263343814, 949.5,],

                    [35.77946379924571, 138.4940600395203, 949.7,],

                    [35.77949861531661, 138.49374890327456, 949.6,],

                    [35.77931583077432, 138.49341630935672, 946.7,],

                    [35.77911563769821, 138.49303007125857, 945.5,],

                    [35.77898507672482, 138.4927833080292, 941,],

                    [35.778976372652295, 138.4924936294556, 939.6,],

                    [35.778880627791715, 138.4921503067017, 937.2,],

                    [35.778654321299285, 138.49195718765262, 934,],

                    [35.77851505544528, 138.49136710166934, 928.6,],

                    [35.778367085208124, 138.4908199310303, 925.8,],

                    [35.778375789347365, 138.49040150642398, 922.2,],

                    [35.77853246369038, 138.48989725112918, 917.1,],

                    [35.778715250033706, 138.4895753860474, 913.7,],

                    [35.77876747462603, 138.48933935165408, 913.6,],

                    [35.77876747462603, 138.48898530006412, 913.7,],

                    [35.778915444118, 138.48873853683475, 913.6,],

                    [35.77928101462337, 138.48871707916263, 916.1,],

                    [35.77948991130032, 138.4885668754578, 919.3,],

                    [35.77964658344781, 138.4882986545563, 918.3,],

                    [35.7798554791642, 138.48801970481875, 920,],

                    [35.7801253019855, 138.48781585693362, 921.4,],

                    [35.780482163020054, 138.4877407550812, 923.8,],

                    [35.78079550309546, 138.4877192974091, 926.4,],

                    [35.78103921118916, 138.48769783973697, 925.5,],

                    [35.7813351414414, 138.48780512809756, 929,],

                    [35.78156144030276, 138.48807334899905, 931.7,],

                    [35.78177903475425, 138.4881377220154, 933.5,],

                    [35.78198792486737, 138.488062620163, 934.2,],

                    [35.782222925588506, 138.488062620163, 935.8,],

                    [35.78237088864911, 138.48821282386783, 936.7,],

                    [35.78232737013047, 138.48847031593326, 937.5,],

                    [35.78247533299665, 138.48879218101504, 941,],

                    [35.78275385058593, 138.48894238471988, 942.5,],

                    [35.783093292578464, 138.488963842392, 943.6,],

                    [35.78345884387252, 138.48902821540835, 946.7,],

                    [35.78384180056804, 138.48927497863772, 949.3,],

                    [35.78412901687893, 138.48960757255557, 952,],

                    [35.78435530778686, 138.48982214927676, 954.5,],

                    [35.784807887670105, 138.48987579345706, 959.4,],

                    [35.78522565142901, 138.48983287811282, 963.8,],

                    [35.78550415938179, 138.48976850509646, 967.9,],

                    [35.78546934594108, 138.48937153816226, 971.2,],

                    [35.78549545602306, 138.48895311355594, 974.5,],

                    [35.785434532485105, 138.4886419773102, 977.3,],

                    [35.785347498778435, 138.4881162643433, 983.1,],

                    [35.78539971901386, 138.48770856857303, 991.6,],

                    [35.78548675266333, 138.48719358444217, 991.6,],

                    [35.785713039705975, 138.48692536354068, 997.5,],

                    [35.78597413933928, 138.48688244819644, 991.9,],

                    [35.786235238114884, 138.4870755672455, 998.7,],

                    [35.78637449044451, 138.48741888999942, 1000.9,],

                    [35.78653985226906, 138.48746180534366, 994.1,],

                    [35.78669651052231, 138.48744034767154, 995.9,],

                    [35.78681835561695, 138.4877192974091, 1004,],

                    [35.78692279412082, 138.48809480667117, 1009.1,],

                    [35.78714907707508, 138.48827719688418, 1006.6,],

                    [35.78746239087127, 138.48850250244143, 1008.2,],

                    [35.787819218968174, 138.48873853683475, 1006,],

                    [35.78809771783312, 138.4893071651459, 1013,],

                    [35.78843713700528, 138.4899187088013, 1019.6,],

                    [35.788602494538424, 138.49025130271914, 1023.1,],

                    [35.78902023835281, 138.49072337150577, 1026.2,],

                    [35.789316138892815, 138.4911632537842, 1032.3,],

                    [35.789699067367984, 138.49160313606265, 1032,],

                    [35.79002107397583, 138.49194645881656, 1034.5,],

                    [35.79029086229139, 138.49223613739017, 1037,],

                    [35.79048232441132, 138.4923326969147, 1036.7,],

                    [35.79065638048371, 138.4921503067017, 1034.4,],

                    [35.79083043617487, 138.49200010299685, 1035.1,],

                    [35.79083043617487, 138.49173188209537, 1038.2,],

                    [35.79063897489361, 138.49124908447268, 1039.1,],

                    [35.79043010751525, 138.4908199310303, 1041.3,],

                    [35.79017772536733, 138.4904229640961, 1040,],

                    [35.790012371111686, 138.4899723529816, 1049,],

                    [35.789847016511985, 138.4895968437195, 1052.2,],

                    [35.789733878956056, 138.4891784191132, 1054,],

                    [35.78981220497347, 138.48887801170352, 1055.9,],

                    [35.79004718256251, 138.48881363868716, 1057.2,],

                    [35.79032567362024, 138.4890711307526, 1060.2,],

                    [35.79063897489361, 138.48960757255557, 1064.6,],

                    [35.79121335735356, 138.490047454834, 1071.8,],

                    [35.79163108744413, 138.4901869297028, 1075.1,],

                    [35.79198789682432, 138.49029421806338, 1075,],

                    [35.79237951503155, 138.49056243896487, 1078.9,],

                    [35.79257967470328, 138.49049806594851, 1079.7,],

                    [35.79262318760868, 138.49025130271914, 1081.5,],

                    [35.79256226953444, 138.4899723529816, 1083.2,],

                    [35.79245783844139, 138.48969340324405, 1085.3,],

                    [35.79264929534048, 138.48945736885074, 1086.3,],

                    [35.793006100148816, 138.48931789398196, 1089.2,],

                    [35.79325847331414, 138.48943591117862, 1091.9,],

                    [35.7934847382292, 138.4893608093262, 1094.3,],

                    [35.7937110025, 138.4891784191132, 1097,],

                    [35.793937266126484, 138.4890174865723, 1098.4,],

                    [35.79432017233436, 138.48910331726077, 1105.2,],

                    [35.794633457859256, 138.4890925884247, 1106.7,],

                    [35.79493803982423, 138.4890925884247, 1108.1,],

                    [35.795303536641065, 138.4890711307526, 1108.3,],

                    [35.795521093471905, 138.4890925884247, 1106.4,],

                    [35.79562552053911, 138.48940372467044, 1103.2,],

                    [35.79572124523017, 138.489682674408, 1100,],

                    [35.79586918316223, 138.48998308181766, 1101,],

                    [35.79613895162332, 138.4902620315552, 1094.7,],

                    [35.79626948442083, 138.49046587944034, 1093.3,],

                    [35.79643482565651, 138.49062681198123, 1094.2,],

                    [35.79671329432832, 138.49074482917788, 1093.1,],

                    [35.79688733675257, 138.49074482917788, 1090.6,],

                    [35.797078782978915, 138.49051952362063, 1093,],

                    [35.797244122530415, 138.49041223526004, 1092.2,],

                    [35.797461674047646, 138.49028348922732, 1088.2,],

                    [35.797557396526514, 138.49011182785037, 1085.9,],

                    [35.79752258836573, 138.4897577762604, 1080.6,],

                    [35.797548694487766, 138.4893071651459, 1078.4,],

                    [35.797496482235125, 138.4890389442444, 1075.4,],

                    [35.797513886323166, 138.48878145217898, 1073.8,],

                    [35.79763571483254, 138.48860979080203, 1074.6,],

                    [35.797774947185964, 138.48841667175296, 1072.5,],

                    [35.79771403306136, 138.4881377220154, 1071.4,],

                    [35.79761831077122, 138.48782658576968, 1072.9,],

                    [35.79743556789704, 138.48747253417972, 1078.1,],

                    [35.79731373908076, 138.4872150421143, 1078.1,],

                    [35.79727022874395, 138.48695755004886, 1074.5,],

                    [35.79727022874395, 138.48674297332767, 1077.6,],

                    [35.797278930813206, 138.48652839660647, 1078.1,],

                    [35.79737465351224, 138.48627090454104, 1079.1,],

                    [35.797409461737864, 138.48602414131167, 1079.4,],

                    [35.797444269948215, 138.48587393760684, 1084.6,],

                    [35.79743556789704, 138.48568081855777, 1082.7,],

                    [35.79763571483254, 138.4855628013611, 1081.9,],

                    [35.797809755236194, 138.48553061485293, 1081.9,],

                    [35.7979750932665, 138.48565936088565, 1083.7,],

                    [35.798123027001985, 138.4858310222626, 1085.5,],

                    [35.79827096046201, 138.48580956459048, 1085.1,],

                    [35.798444999474086, 138.48576664924624, 1087.4,],

                    [35.798610336182406, 138.4856164455414, 1091.9,],

                    [35.798827883958616, 138.48550915718081, 1089.2,],

                    [35.79905413301394, 138.48528385162356, 1086.5,],

                    [35.79922817031037, 138.48517656326297, 1085.7,],

                    [35.79953273466169, 138.48491907119754, 1084.2,],

                    [35.799837297845436, 138.48475813865664, 1082.8,],

                    [35.80025498259873, 138.48474740982059, 1077.8,],

                    [35.800516034454354, 138.4851121902466, 1074.7,],

                    [35.80077708545215, 138.4855628013611, 1074.1,],

                    [35.80098592563272, 138.4853267669678, 1076.3,],

                    [35.801194765264256, 138.48489761352542, 1072.5,],

                    [35.801525426891416, 138.4847688674927, 1069.5,],

                    [35.80171686194119, 138.48524093627933, 1068.4,],

                    [35.80182128086479, 138.4856700897217, 1065.9,],

                    [35.801995312099145, 138.48605632781985, 1063.6,],

                    [35.802674030270026, 138.4861207008362, 1056.9,],

                    [35.80291767127583, 138.48579883575442, 1052.9,],

                    [35.80312650582886, 138.48539113998416, 1052.1,],

                    [35.80331793702016, 138.48481178283694, 1046.5,],

                    [35.80371820074756, 138.48494052886966, 1036.1,],

                    [35.80396183855065, 138.48558425903323, 1039.3,],

                    [35.8042228782247, 138.4865498542786, 1027.3,],

                    [35.804483917040834, 138.48742961883548, 1019.1,],

                    [35.80451872215149, 138.48792314529422, 1014.4,],

                    [35.80476235749914, 138.48830938339236, 1013.5,],

                    [35.80502339454234, 138.48863124847415, 1012.8,],

                    [35.80549325905822, 138.48848104476932, 1007.2,],

                    [35.80587610957155, 138.48809480667117, 999.2,],

                    [35.80598052302766, 138.48860979080203, 997.2,],

                    [35.80599792525698, 138.48906040191653, 1000.5,],

                    [35.80650258824916, 138.4890174865723, 993.3,],

                    [35.8071290619852, 138.489146232605, 992.8,],

                    [35.80761631591913, 138.4891247749329, 975.5,],

                    [35.80815577214473, 138.48910331726077, 992.9,],

                    [35.80817317389745, 138.48888874053958, 991.3,],

                    [35.80806876332392, 138.4880089759827, 982.6,],

                    [35.80796435261314, 138.48738670349124, 971.2,],

                    [35.80801655798568, 138.48670005798343, 965.1,],

                    [35.80796435261314, 138.48597049713138, 955.8,],

                    [35.8080861650957, 138.48545551300052, 952.7,],

                    [35.80796435261314, 138.48481178283694, 947.6,],

                    [35.80813837038819, 138.4841895103455, 942.7,],

                    [35.80827758433369, 138.4835457801819, 934,],

                    [35.80820797739145, 138.48292350769046, 924.6,],

                    [35.80822537913272, 138.48260164260867, 921.3,],

                    [35.808660421425586, 138.4826231002808, 921,],

                    [35.80881703606761, 138.48223686218265, 922.2,],

                    [35.80839939633583, 138.48210811614993, 911.4,],

                    [35.808677823067725, 138.4816145896912, 912.9,],

                    [35.80897365040081, 138.48122835159305, 914.9,],

                    [35.80933908264381, 138.48077774047854, 919,],

                    [35.809530498861896, 138.48021984100345, 911.8,],

                    [35.80982632301875, 138.47979068756106, 915.5,],

                    [35.8098437244054, 138.47940444946292, 909.4,],

                    [35.810000336713884, 138.47912549972537, 909.7,],

                    [35.8101569487135, 138.478696346283, 907.5,],

                    [35.8105919804252, 138.47828865051272, 909.9,],

                    [35.811027009753744, 138.47785949707034, 911.4,],

                    [35.81125322406275, 138.47753763198855, 915.5,],

                    [35.81144463566703, 138.4771299362183, 926.5,],

                    [35.811322828335875, 138.47665786743167, 932.3,],

                    [35.811375031500674, 138.47631454467776, 926.8,],

                    [35.811670848786356, 138.47584247589114, 925,],

                    [35.81207107041881, 138.47549915313724, 928.9,],

                    [35.812453889223235, 138.47519874572757, 924.3,],

                    [35.81297591189136, 138.47517728805545, 940.9,],

                    [35.81334132571708, 138.47498416900638, 938.5,],

                    [35.81370673786119, 138.4752416610718, 946.6,],

                    [35.81400254646047, 138.47526311874392, 942.6,],

                    [35.814350555166364, 138.47541332244876, 944.8,],

                    [35.81457676000727, 138.47562789916995, 945.9,],

                    [35.814872565365285, 138.47592830657962, 945.1,],

                    [35.81502916775573, 138.47637891769412, 958.5,],

                    [35.81529017105343, 138.47648620605472, 955.9,],

                    [35.81546417277522, 138.47695827484134, 958,],

                    [35.81523797046253, 138.47745180130008, 958.8,],

                    [35.814889965646124, 138.47785949707034, 967,],

                    [35.814437557104505, 138.47824573516849, 973.3,],

                    [35.81410694923238, 138.4786105155945, 973.1,],

                    [35.81355013286248, 138.47918987274173, 972.2,],

                    [35.81311511735658, 138.47957611083987, 975,],

                    [35.81299331258786, 138.4801554679871, 976.1,],

                    [35.81313251802257, 138.48077774047854, 982.5,],

                    [35.813602334563036, 138.4806060791016, 986.8,],

                    [35.813985145985136, 138.48037004470828, 974.4,],

                    [35.814350555166364, 138.48090648651126, 979.6,],

                    [35.81471596266597, 138.48075628280642, 986.9,],

                    [35.81495956673144, 138.48122835159305, 996.3,],

                    [35.815342371609994, 138.48101377487185, 994.2,],

                    [35.8155163732174, 138.48146438598636, 998.8,],

                    [35.81586437528822, 138.48167896270755, 1008,],

                    [35.816264575783975, 138.48135709762576, 1001.8,],

                    [35.81650817509808, 138.4812927246094, 1004.6,],

                    [35.81676917353382, 138.48182916641238, 1008.6,],

                    [35.81669957403484, 138.48234415054324, 1013.3,],

                    [35.8171519696875, 138.48266601562503, 1016.3,],

                    [35.817430365730914, 138.4830737113953, 1018.9,],

                    [35.81748256488038, 138.4833633899689, 1019.7,],

                    [35.81731726745601, 138.48358869552615, 1023.3,],

                    [35.81736076681159, 138.48395347595218, 1020.9,],

                    [35.81732596732903, 138.48417878150943, 1022.1,],

                    [35.8171519696875, 138.48435044288638, 1025.5,],

                    [35.81723896855593, 138.48452210426333, 1025.6,],

                    [35.81751736429428, 138.4847688674927, 1028.1,],

                    [35.8177087607981, 138.4852194786072, 1032.8,],

                    [35.817865357594414, 138.48562717437747, 1029.9,],

                    [35.817726160457404, 138.48635673522952, 1034.3,],

                    [35.817726160457404, 138.4865713119507, 1041.3,],

                    [35.818143751136255, 138.48672151565555, 1039.3,],

                    [35.81816115070019, 138.48697900772098, 1041,],

                    [35.8179523556811, 138.48732233047488, 1047.7,],

                    [35.8179523556811, 138.48749399185184, 1049.5,],

                    [35.818387344684545, 138.4875798225403, 1044.1,],

                    [35.81836994517017, 138.48785877227786, 1037.8,],

                    [35.818143751136255, 138.48837375640872, 1048.4,],

                    [35.81819594981665, 138.48916769027713, 1052.2,],

                    [35.818387344684545, 138.4900259971619, 1059.4,],

                    [35.81885713013122, 138.49045515060428, 1061.1,],

                    [35.81934431210255, 138.49079847335818, 1065.9,],

                    [35.819918487016245, 138.49122762680057, 1068.5,],

                    [35.82035346524666, 138.49157094955447, 1070.7,],

                    [35.82078844109367, 138.49202156066897, 1070.1,],

                    [35.821223414557195, 138.4927296638489, 1073.9,],

                    [35.82148439749125, 138.49333047866824, 1071.5,],

                    [35.82155399279541, 138.4940600395203, 1071.1,],

                    [35.8217105820067, 138.49489688873294, 1069.5,],

                    [35.8217105820067, 138.495626449585, 1068.5,],

                    [35.82190196840099, 138.49629163742068, 1067.2,],

                    [35.82124081344615, 138.49695682525638, 1081.1,],

                    [35.82120601566441, 138.49781513214114, 1085.6,],

                    [35.82113642005517, 138.4986519813538, 1096.7,],

                    [35.82129301009015, 138.4991240501404, 1090.6,],

                    [35.82110162222765, 138.49959611892703, 1092.2,],

                    [35.82089283494227, 138.50036859512332, 1094.3,],

                    [35.82035346524666, 138.50129127502444, 1109.8,],

                    [35.8202316715824, 138.5020422935486, 1104.7,],

                    [35.81962270045813, 138.50255727767947, 1114.2,],

                    [35.81892672773876, 138.5031580924988, 1123,],

                    [35.8185961385596, 138.50380182266238, 1114.9,],

                    [35.818352545651976, 138.5045099258423, 1104.6,],

                    [35.81776095976455, 138.50468158721927, 1101.8,],

                    [35.81729116783124, 138.50466012954715, 1091.9,],

                    [35.817169369468814, 138.50513219833377, 1071.1,],

                    [35.81711717011343, 138.50569009780887, 1109.3,],

                    [35.81737816654715, 138.50586175918582, 1102.6,],

                    [35.817656561797385, 138.50637674331668, 1110.2,],

                    [35.81763916212284, 138.50680589675906, 1124.5,],

                    [35.8180567532593, 138.50697755813601, 1122.3,],

                    [35.81852654066227, 138.50721359252933, 1133.8,],

                    [35.81887452953883, 138.50732088088992, 1130.1,],

                    [35.81887452953883, 138.5078573226929, 1141.2,],

                    [35.8185961385596, 138.50813627243045, 1148.2,],

                    [35.818282947541064, 138.5081791877747, 1151.6,],

                    [35.81821334936917, 138.50856542587283, 1148.8,],

                    [35.81791755645786, 138.50880146026614, 1165.9,],

                    [35.81791755645786, 138.50845813751224, 1160,],

                    [35.8180567532593, 138.50800752639773, 1164.3,],

                    [35.81777835941238, 138.5076427459717, 1164.4,],

                    [35.81704757091953, 138.5077500343323, 1181.6,],

                    [35.81642117542884, 138.50777149200442, 1191,],

                    [35.815794774996085, 138.50794315338138, 1204,],

                    [35.81542937246138, 138.50779294967654, 1205.6,],

                    [35.81509876871902, 138.5080718994141, 1211.6,],

                    [35.81448975822164, 138.50847959518435, 1221.6,],

                    [35.81433315476729, 138.50878000259402, 1228,],

                    [35.814315754364415, 138.5089731216431, 1233,],

                    [35.813967745505984, 138.50912332534793, 1237.9,],

                    [35.81368933732102, 138.50912332534793, 1242.4,],

                    [35.8137763399837, 138.50935935974124, 1245.2,],

                    [35.81386334255102, 138.5096597671509, 1248.6,],

                    [35.81368933732102, 138.510217666626, 1255.4,],

                    [35.81311511735658, 138.5101962089539, 1258.9,],

                    [35.8126626987023, 138.51068973541263, 1268.8,],

                    [35.81276710323593, 138.51105451583865, 1260.8,],

                    [35.8126626987023, 138.51180553436282, 1267.1,],

                    [35.812175475730335, 138.51176261901858, 1271.8,],

                    [35.811740452693435, 138.51294279098514, 1278.7,],

                    [35.81149683875176, 138.51360797882083, 1274.9,],

                    [35.81109661422515, 138.5141229629517, 1274.3,],

                    [35.81088780062791, 138.51463794708255, 1276.6,],

                    [35.81106181199707, 138.51511001586917, 1272.4,],

                    [35.81106181199707, 138.51564645767215, 1270.6,],

                    [35.81078339362337, 138.51624727249148, 1270.1,],

                    [35.81078339362337, 138.51667642593387, 1271.1,],

                    [35.810713788877436, 138.51710557937625, 1271.4,],

                    [35.810313560404246, 138.5179424285889, 1275,],

                    [35.81100960862637, 138.5185539722443, 1280.5,],

                    [35.81160124481829, 138.51877927780154, 1274,],

                    [35.811775254624074, 138.5191869735718, 1283.7,],

                    [35.81146203669911, 138.5192942619324, 1281.6,],

                    [35.81114881753868, 138.51897239685061, 1290,],

                    [35.81075729185078, 138.51887583732608, 1292.8,],

                    [35.810487573031764, 138.51922988891604, 1301,],

                    [35.810835597142784, 138.51983070373538, 1297.1,],

                    [35.810722489473996, 138.52015256881717, 1301.3,],

                    [35.810278757833, 138.52018475532535, 1303.6,],

                    [35.80988722785542, 138.52025985717776, 1306.2,],

                    [35.809495695947476, 138.52002382278445, 1310.8,],

                    [35.80906935900793, 138.52021694183352, 1311.2,],

                    [35.80844290057704, 138.52000236511233, 1315.7,],

                    [35.808103566863686, 138.51992726325992, 1317.9,],

                    [35.807564110283465, 138.52043151855472, 1319.9,],

                    [35.807155164950316, 138.52052807807925, 1321.7,],

                    [35.80692893896778, 138.521021604538, 1322.9,],

                    [35.806868031862386, 138.52142930030826, 1324.1,],

                    [35.807207370854776, 138.52177262306216, 1331.3,],

                    [35.80747710081446, 138.52184772491458, 1329.7,],

                    [35.807372689325845, 138.52218031883243, 1331.8,],

                    [35.807163865936765, 138.5222661495209, 1333.9,],

                    [35.807085557024315, 138.52245926856997, 1329.9,],

                    [35.806789722658245, 138.52245926856997, 1329.1,],

                    [35.80646778400781, 138.52285623550418, 1324.8,],

                    [35.80645038188141, 138.52299571037295, 1325,],

                    [35.80658959878576, 138.5231673717499, 1326.4,],

                    [35.80658959878576, 138.52345705032351, 1327.5,],

                    [35.806676609227054, 138.52376818656924, 1329.6,],

                    [35.80685933084352, 138.52390766143802, 1328.6,],

                    [35.80718996889043, 138.52387547492984, 1329.5,],

                    [35.807268277699926, 138.52419734001163, 1331.4,],

                    [35.80752060556087, 138.52420806884768, 1336.6,],

                    [35.80794695081464, 138.52419734001163, 1340.2,],

                    [35.80819057564636, 138.52416515350345, 1339.4,],

                    [35.80836459292573, 138.52431535720828, 1343.2,],

                    [35.80870392552378, 138.52420806884768, 1348.8,],

                    [35.80876483122126, 138.52442264556888, 1349,],

                    [35.808538609823785, 138.52472305297854, 1353.9,],

                    [35.808381994632676, 138.52504491806033, 1356.2,],

                    [35.808268883469246, 138.52519512176517, 1357.3,],

                    [35.80827758433369, 138.52554917335513, 1360.3,],

                    [35.808521208151134, 138.5256886482239, 1361.3,],

                    [35.80881703606761, 138.52559208869937, 1359.9,],

                    [35.80892144565738, 138.5259032249451, 1364.7,],

                    [35.80901715432743, 138.52614998817447, 1364.9,],

                    [35.80892144565738, 138.5264074802399, 1362.4,],

                    [35.80873002797128, 138.52632164955142, 1366.4,],

                    [35.8084341997307, 138.52614998817447, 1368.8,],

                    [35.80814707126693, 138.52628946304324, 1370.2,],

                    [35.80811226774622, 138.52676153182986, 1373.3,],

                    [35.808286285197184, 138.5272014141083, 1374.3,],

                    [35.80805136154832, 138.52744817733767, 1376.2,],

                    [35.80764241872407, 138.52779150009158, 1378,],

                    [35.8074248950873, 138.5279738903046, 1378.9,],

                    [35.80718996889043, 138.52828502655032, 1382,],

                    [35.80698984602647, 138.5286068916321, 1381.4,],

                    [35.806702712340865, 138.52858543396, 1379.7,],

                    [35.806754918542744, 138.52819919586184, 1375.7,],

                    [35.806789722658245, 138.5275769233704, 1368.8,],

                    [35.80649388719024, 138.52719068527225, 1367,],

                    [35.80615454514943, 138.5271263122559, 1360.2,],

                    [35.805928316316766, 138.5272550582886, 1357,],

                    [35.805762994839235, 138.526965379715, 1351.9,],

                    [35.80585870731554, 138.52679371833804, 1350.7,],

                    [35.805963120794495, 138.52621436119082, 1344.7,],

                    [35.80591091407218, 138.52587103843692, 1346.1,],

                    [35.80549325905822, 138.52598905563357, 1341.3,],

                    [35.805223522361146, 138.5260856151581, 1336.7,],

                    [35.8050146933214, 138.52622509002688, 1336.1,],

                    [35.804997290876614, 138.52661132812503, 1329.9,],

                    [35.80476235749914, 138.52681517601016, 1334.4,],

                    [35.804544825974496, 138.52671861648562, 1323.7,],

                    [35.80437080032584, 138.52633237838748, 1319.3,],

                    [35.804188072984374, 138.5264074802399, 1318.8,],

                    [35.804196774295875, 138.52684736251834, 1313.1,],

                    [35.80410976113793, 138.5273087024689, 1309.2,],

                    [35.80374430483366, 138.52772712707522, 1298.9,],

                    [35.803483263586834, 138.52783441543582, 1296.1,],

                    [35.80315261010937, 138.5275769233704, 1292.7,],

                    [35.80281325379342, 138.5273087024689, 1288.4,],

                    [35.80243909002098, 138.52722287178042, 1283.9,],

                    [35.8023955824912, 138.52695465087893, 1281.7,],

                    [35.80258701544397, 138.5266220569611, 1277.8,],

                    [35.80240428399906, 138.52639675140384, 1275,],

                    [35.80204752139509, 138.52643966674808, 1269.4,],

                    [35.801612442880305, 138.5266435146332, 1263.4,],

                    [35.80131658812914, 138.52663278579715, 1259.3,],

                    [35.80090761062934, 138.5268580913544, 1257.9,],

                    [35.80042901726446, 138.52694392204288, 1248.2,],

                    [35.800115754591644, 138.52699756622317, 1245.3,],

                    [35.79973287631398, 138.5269868373871, 1239.9,],

                    [35.79931518881559, 138.52713704109195, 1235.1,],

                    [35.79901932550891, 138.52723360061648, 1232.9,],

                    [35.79909764237378, 138.52734088897708, 1227.9,],

                    [35.79964585826625, 138.52768421173099, 1223,],

                    [35.79960234920662, 138.52790951728824, 1220.1,],

                    [35.79895841233839, 138.52784514427188, 1213.3,],

                    [35.798601634258965, 138.52782368659976, 1210.9,],

                    [35.798279662421656, 138.52809190750125, 1204.7,],

                    [35.79771403306136, 138.5284245014191, 1196.9,],

                    [35.797305037015285, 138.52845668792727, 1192.7,],

                    [35.796922145191665, 138.52857470512393, 1187.8,],

                    [35.79640001700391, 138.5285532474518, 1180.4,],

                    [35.795956205346535, 138.52854251861575, 1171.6,],

                    [35.79557330702267, 138.52857470512393, 1172.2,],

                    [35.79531223892574, 138.5286068916321, 1170.1,],

                    [35.79506857459469, 138.52895021438601, 1161.7,],

                    [35.794607350779344, 138.52906823158267, 1155.5,],

                    [35.79415482669822, 138.52907896041873, 1147,],

                    [35.79374581233063, 138.5289824008942, 1141.7,],

                    [35.79361527538714, 138.5290038585663, 1141.4,],

                    [35.793432523305995, 138.52883219718936, 1146,],

                    [35.79323236578249, 138.52870345115664, 1148.7,],

                    [35.79307572041241, 138.52851033210757, 1152.1,],

                    [35.79323236578249, 138.52818846702579, 1150.4,],

                    [35.793441225795576, 138.52789878845218, 1152.5,],

                    [35.793972075858, 138.52726578712466, 1155.9,],

                    [35.7941374218744, 138.5270404815674, 1159.9,],

                    [35.79411131463154, 138.5268044471741, 1152.9,],

                    [35.79389375394068, 138.52665424346927, 1155.1,],

                    [35.79362397785672, 138.52672934532168, 1154.5,],

                    [35.793362903355, 138.5268580913544, 1150.3,],

                    [35.79304961282071, 138.52689027786258, 1152.5,],

                    [35.79264929534048, 138.5272014141083, 1155,],

                    [35.792292488930045, 138.52722287178042, 1157.6,],

                    [35.791883464976436, 138.52713704109195, 1161.5,],

                    [35.79145703350658, 138.52686882019046, 1164.8,],

                    [35.791056708003474, 138.5266971588135, 1165.7,],

                    [35.79076081394416, 138.52655768394473, 1164.8,],

                    [35.79037789058491, 138.52626800537112, 1168.7,],

                    [35.79005588542284, 138.52598905563357, 1172,],

                    [35.78974258185071, 138.52544188499454, 1174.1,],

                    [35.7897512847444, 138.52493762969974, 1180.7,],

                    [35.78989923379117, 138.52459430694583, 1187.1,],

                    [35.790073291140644, 138.5242831707001, 1180.6,],

                    [35.78998626251355, 138.5240685939789, 1178.7,],

                    [35.789777393419726, 138.52395057678225, 1175.8,],

                    [35.7897512847444, 138.52366089820865, 1180.4,],

                    [35.78949890044066, 138.52355360984805, 1182.1,],

                    [35.789350950648625, 138.52341413497928, 1182.7,],

                    [35.789150782844516, 138.52349996566775, 1183.8,],

                    [35.7889070996199, 138.5236716270447, 1183.5,],

                    [35.788471949146114, 138.52389693260196, 1180.9,],

                    [35.78830659134138, 138.5241758823395, 1178,],

                    [35.788176045463025, 138.5246050357819, 1176.2,],

                    [35.788045499370284, 138.52487325668338, 1175.9,],

                    [35.78786273448016, 138.52485179901126, 1177.1,],

                    [35.787671266049244, 138.52474451065066, 1175,],

                    [35.78763645355771, 138.52450847625735, 1174,],

                    [35.78766256292778, 138.52421879768374, 1169.6,],

                    [35.78759293792184, 138.52395057678225, 1169.9,],

                    [35.78726221831063, 138.52397203445437, 1169.9,],

                    [35.78693149732327, 138.5243368148804, 1168.4,],

                    [35.78672262020117, 138.52424025535586, 1164.7,],

                    [35.78670521374955, 138.5238862037659, 1171.2,],

                    [35.78658336848147, 138.52360725402835, 1162.4,],

                    [35.786330974117696, 138.52336049079898, 1162.2,],

                    [35.786122095417426, 138.52324247360232, 1163.7,],

                    [35.78588710622346, 138.5232210159302, 1163.9,],

                    [35.785608599612495, 138.5233819484711, 1169.6,],

                    [35.78512991409487, 138.52373600006106, 1169.4,],

                    [35.784590301509404, 138.52382183074954, 1176.1,],

                    [35.78401587118335, 138.52440118789676, 1182.8,],

                    [35.78377217221517, 138.52386474609378, 1193.4,],

                    [35.78352847249984, 138.52328538894656, 1195.9,],

                    [35.783162921526, 138.52281332015994, 1205.6,],

                    [35.7830410708278, 138.52201938629153, 1205.7,],

                    [35.782971441773554, 138.52159023284915, 1210.7,],

                    [35.782292555298405, 138.52161169052127, 1212.2,],

                    [35.781961813633245, 138.5208606719971, 1218,],

                    [35.781787738519945, 138.52013111114505, 1226,],

                    [35.781631070592056, 138.5195302963257, 1225.7,],

                    [35.782118480909325, 138.519401550293, 1219.4,],

                    [35.78241440714394, 138.5196375846863, 1220.3,],

                    [35.78264070293299, 138.51972341537478, 1223.1,],

                    [35.782797368871094, 138.519401550293, 1213,],

                    [35.783406622362, 138.51955175399783, 1213.2,],

                    [35.78359810106616, 138.51942300796512, 1211.1,],

                    [35.7838766147216, 138.5185217857361, 1213.7,],

                    [35.78396365003877, 138.5181784629822, 1210.2,],

                    [35.78373735801586, 138.51792097091678, 1200.3,],

                    [35.78389402179264, 138.51734161376956, 1203.7,],

                    [35.783824393485524, 138.5170412063599, 1195.6,],

                    [35.783545879647136, 138.51684808731082, 1193.2,],

                    [35.78347625103507, 138.51729869842532, 1191.9,],

                    [35.78331958643491, 138.5177278518677, 1187.6,],

                    [35.783563286790624, 138.51822137832644, 1189.8,],

                    [35.78330217923806, 138.51865053176883, 1181.4,],

                    [35.782971441773554, 138.51886510849002, 1184.2,],

                    [35.78236218494728, 138.51871490478518, 1181.5,],

                    [35.781892183633666, 138.51835012435916, 1184.8,],

                    [35.78156144030276, 138.51802825927737, 1176.3,],

                    [35.781126249612996, 138.5179424285889, 1169.2,],

                    [35.780656240992165, 138.51837158203128, 1165.4,],

                    [35.780134005932226, 138.5186290740967, 1161.9,],

                    [35.78025586108641, 138.51935863494876, 1161.8,],

                    [35.780621425428244, 138.51993799209598, 1162.1,],

                    [35.780482163020054, 138.52043151855472, 1153,],

                    [35.780691056540874, 138.52083921432498, 1151.7,],

                    [35.78077809534589, 138.52144002914432, 1151.2,],

                    [35.780691056540874, 138.52195501327517, 1146.8,],

                    [35.780934764954765, 138.52240562438968, 1141.7,],

                    [35.781265510892936, 138.52294206619266, 1141.1,],

                    [35.7813003261748, 138.523542881012, 1136.4,],

                    [35.78105661888156, 138.5237789154053, 1134.7,],

                    [35.78060401764056, 138.5238862037659, 1131.8,],

                    [35.780429939554075, 138.52429389953616, 1131.1,],

                    [35.77994251888403, 138.52459430694583, 1136.8,],

                    [35.779350646910025, 138.52418661117557, 1124.6,],

                    [35.77900248486697, 138.5236716270447, 1124.9,],

                    [35.77844542242682, 138.52319955825809, 1118.7,],

                    [35.77769686362656, 138.52279186248782, 1117.4,],

                    [35.77724424325855, 138.5220837593079, 1106.2,],

                    [35.77647826445822, 138.52189064025882, 1103.7,],

                    [35.77607786351212, 138.52167606353763, 1101.3,],

                    [35.77586895787026, 138.52101087570193, 1094.2,],

                    [35.77592118433219, 138.52043151855472, 1089.7,],

                    [35.77616490736758, 138.51993799209598, 1083.5,],

                    [35.77609527229084, 138.51922988891604, 1081.5,],

                    [35.77611268106575, 138.51845741271975, 1069.9,],

                    [35.776043045943254, 138.51792097091678, 1073.4,],

                    [35.776443447064686, 138.51755619049075, 1065.1,],

                    [35.77646085576336, 138.51699829101565, 1063.2,],

                    [35.77647826445822, 138.51646184921267, 1055.3,],

                    [35.77611268106575, 138.5158181190491, 1052.8,],

                    [35.77586895787026, 138.5151529312134, 1048.9,],

                    [35.77548596276802, 138.51455211639407, 1041.6,],

                    [35.775155192786, 138.51418733596805, 1038.6,],

                    [35.774737376105186, 138.51388692855838, 1036.9,],

                    [35.774371784708535, 138.51382255554202, 1035.9,],

                    [35.7744762395648, 138.5133504867554, 1025.8,],

                    [35.77487664857607, 138.51339340209964, 1020.6,],

                    [35.775346691364355, 138.51375818252566, 1021,],

                    [35.77578191369084, 138.51397275924685, 1020.6,],

                    [35.77611268106575, 138.51410150527957, 1013.6,],

                    [35.776199724883064, 138.51444482803348, 1018.4,],

                    [35.776513081836505, 138.51423025131228, 1019.7,],

                    [35.77647826445822, 138.51377964019778, 1014.7,],

                    [35.77654789919952, 138.51317882537845, 1013.8,],

                    [35.776565307875345, 138.51272821426394, 1019.3,],

                    [35.77633899479261, 138.5121059417725, 1020.5,],

                    [35.77623454238333, 138.51135492324832, 1031.8,],

                    [35.776008228359146, 138.51058244705203, 1033.5,],

                    [35.77602563715311, 138.51006746292117, 1045.1,],

                    [35.7759734107598, 138.50946664810184, 1039.9,],

                    [35.776199724883064, 138.50895166397098, 1047.9,],

                    [35.776687168499215, 138.5086512565613, 1049.7,],

                    [35.77720942620046, 138.50873708724978, 1060.5,],

                    [35.777575004550194, 138.50867271423343, 1065.4,],

                    [35.77788835608354, 138.5087585449219, 1067.6,],

                    [35.77823652300549, 138.5087585449219, 1066.8,],

                    [35.77835838106797, 138.50847959518435, 1059.8,],

                    [35.777940581219, 138.5080933570862, 1051,],

                    [35.777313877329036, 138.50790023803714, 1040.5,],

                    [35.77646085576336, 138.50779294967654, 1031.1,],

                    [35.77607786351212, 138.50725650787356, 1025.2,],

                    [35.77588636669471, 138.50659132003787, 1020.5,],

                    [35.77553818948147, 138.50637674331668, 1018.5,],

                    [35.775102965820984, 138.5061836242676, 1012.3,],

                    [35.77452846694149, 138.50571155548099, 1007.4,],

                    [35.774145465382546, 138.50566864013675, 995.5,],

                    [35.773832099098556, 138.50534677505496, 991.3,],

                    [35.77334463798002, 138.50519657135013, 984.7,],

                    [35.77282235489421, 138.50500345230105, 979,],

                    [35.772387116369025, 138.50474596023562, 972.8,],

                    [35.77203892383374, 138.50476741790774, 968.4,],

                    [35.77165591028411, 138.50496053695682, 962.9,],

                    [35.7713077145473, 138.50485324859622, 957.4,],

                    [35.77095951728596, 138.50478887557986, 954.4,],

                    [35.7705590885507, 138.50496053695682, 950.5,],

                    [35.770454628549054, 138.50536823272708, 948.6,],

                    [35.770419808518035, 138.50586175918582, 946.5,],

                    [35.77038498847172, 138.5063982009888, 945.1,],

                    [35.77048944856486, 138.50680589675906, 945.4,],

            ];
            var polyline = L.polyline(latlngs.map(function(latlng) { return [latlng[0], latlng[1]]; }), {color: 'blue'}).addTo(map);

            // 距離計算関数
            function calculateDistance(lat1, lon1, lat2, lon2) {
                function toRad(x) {
                    return x * Math.PI / 180;
                }
                var R = 6371; // 地球の半径 (km)
                var dLat = toRad(lat2 - lat1);
                var dLon = toRad(lon2 - lon1);
                var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                        Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *
                        Math.sin(dLon / 2) * Math.sin(dLon / 2);
                var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
                return R * c;
            }

            // ローパスフィルタによる標高データのスムージング
            function lowPassFilter(elevations, alpha) {
                var smoothed = [elevations[0]]; // 初期値は最初の標高値
                for (var i = 1; i < elevations.length; i++) {
                    var smoothedValue = alpha * elevations[i] + (1 - alpha) * smoothed[i - 1];
                    smoothed.push(smoothedValue);
                }
                return smoothed;
            }

            // 累積距離計算 (水平距離)
            var distances = [0];
            var totalDistance = 0;
            for (var i = 1; i < latlngs.length; i++) {
                var d = calculateDistance(latlngs[i-1][0], latlngs[i-1][1], latlngs[i][0], latlngs[i][1]);
                totalDistance += d;
                distances.push(totalDistance);
            }

            // 累積距離計算 (沿面距離)
            function calculateSurfaceDistance(lat1, lon1, ele1, lat2, lon2, ele2) {
                var horizontalDistance = calculateDistance(lat1, lon1, lat2, lon2);
                var verticalDistance = (ele2 - ele1) / 1000; // m to km
                return Math.sqrt(horizontalDistance * horizontalDistance + verticalDistance * verticalDistance);
            }

            var surfaceDistances = [0];
            var totalSurfaceDistance = 0;
            for (var i = 1; i < latlngs.length; i++) {
                var d = calculateSurfaceDistance(latlngs[i-1][0], latlngs[i-1][1], latlngs[i-1][2], latlngs[i][0], latlngs[i][1], latlngs[i][2]);
                totalSurfaceDistance += d;
                surfaceDistances.push(totalSurfaceDistance);
            }

            // 標高データのスムージング
            var elevations = latlngs.map(function(latlng) { return latlng[2]; });
            var alpha = 0.167; // スムージング係数 (0.0 < alpha < 1.0)
            var smoothedElevations = lowPassFilter(elevations, alpha);

            // 累積標高計算
            var totalAscent = 0;
            var totalDescent = 0;
            var maxElevation = Math.max(...smoothedElevations);
            var minElevation = Math.min(...smoothedElevations);
            for (var i = 1; i < smoothedElevations.length; i++) {
                var diff = smoothedElevations[i] - smoothedElevations[i-1];
                if (diff > 0) {
                    totalAscent += diff;
                } else {
                    totalDescent += Math.abs(diff);
                }
            }

            // 水平距離と沿面距離の表示
            document.getElementById('horizontal-distance').innerText = totalDistance.toFixed(0);
            document.getElementById('surface-distance').innerText = totalSurfaceDistance.toFixed(0);

            // 累積標高と最高・最低標高の表示
            document.getElementById('total-ascent').innerText = totalAscent.toFixed(0);
            document.getElementById('total-descent').innerText = totalDescent.toFixed(0);
            document.getElementById('max-elevation').innerText = maxElevation.toFixed(0);
            document.getElementById('min-elevation').innerText = minElevation.toFixed(0);

            // 標高グラフの初期化
            var graphDiv = document.getElementById('graph');
            Plotly.newPlot(graphDiv, [{
                x: distances,
                y: smoothedElevations,
                type: 'scatter',
                mode: 'lines'
            }], {
                xaxis: { title: '距離 (km)' },
                yaxis: { title: '標高 (m)' }
            });

            // マーカーの初期化
            var marker = L.marker([latlngs[0][0], latlngs[0][1]]).addTo(map);

            // スライダーの設定
            var slider = document.getElementById('slider');
            slider.max = latlngs.length - 1;

            // マーカーとビューを更新する共通関数
            function updateMarkerAndView(idx) {
                var latlng = latlngs[idx];
                marker.setLatLng([latlng[0], latlng[1]]);
                map.setView([latlng[0], latlng[1]], 15);
                Plotly.Fx.hover('graph', [{
                    curveNumber: 0,
                    pointNumber: idx
                }]);
            }

            slider.addEventListener('input', function() {
                var idx = slider.value;
                updateMarkerAndView(idx);
            });

            // グラフのホバーイベント
            graphDiv.on('plotly_hover', function(eventdata) {
                var idx = eventdata.points[0].pointNumber;
                slider.value = idx;
                updateMarkerAndView(idx);
            });

            // グラフのクリックイベント
            graphDiv.on('plotly_click', function(eventdata) {
                var idx = eventdata.points[0].pointNumber;
                slider.value = idx;
                updateMarkerAndView(idx);
            });

            // 初期距離表示更新
            updateMarkerAndView(0);
        });
    </script>
</body>
</html>
